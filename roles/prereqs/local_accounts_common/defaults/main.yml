# Copyright 2023 Cloudera, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

---
skip_user_group_init: false
local_accounts:
  - user: accumulo
    home: /var/lib/accumulo
    comment: Accumulo

  - user: atlas
    home: /var/lib/atlas
    comment: Atlas
    extra_groups: [hadoop]

  - user: cloudera-scm
    home: /var/lib/cloudera-scm-server
    comment: Cloudera Manager
    mode: "770"
    keystore_acl: true
    key_acl: true
    key_password_acl: true

  - user: cruisecontrol
    home: /var/lib/cruise_control
    comment: Cruise Control
    keystore_acl: true

  - user: druid
    home: /var/lib/druid
    comment: Druid
    extra_groups: [hadoop]

  - user: flink
    home: /var/lib/flink
    comment: Flink
    keystore_acl: true

  - user: ssb
    home: /var/lib/ssb
    comment: SQL Stream Builder
    keystore_acl: true
    key_acl: true
    key_password_acl: true

  - user: flume
    home: /var/lib/flume-ng
    comment: Flume
    keystore_acl: true

  - user: hbase
    home: /var/lib/hbase
    comment: HBase
    keystore_acl: true

  - user: hdfs
    home: /var/lib/hadoop-hdfs
    comment: Hadoop HDFS
    extra_groups: [hadoop]

  - user: hive
    home: /var/lib/hive
    comment: Hive
    keystore_acl: true

  - user: httpfs
    home: /var/lib/hadoop-httpfs
    comment: Hadoop HTTPFS
    keystore_acl: true

  - user: hue
    home: /usr/lib/hue
    comment: Hue
    key_acl: true
    key_password_acl: true

  - user: impala
    home: /var/lib/impala
    comment: Impala
    extra_groups: [hive]
    key_acl: true
    key_password_acl: true

  - user: kafka
    home: /var/lib/kafka
    comment: Kafka
    keystore_acl: true

  - user: keytrustee
    home: /var/lib/keytrustee
    comment: KeyTrustee KMS
    keystore_acl: true
    key_acl: true
    key_password_acl: true

  - user: kms
    home: /var/lib/hadoop-kms
    comment: Hadoop KMS
    keystore_acl: true

  - user: knox
    home: /var/lib/knox
    comment: Knox
    extra_groups: [hadoop]
    keystore_acl: true

  - user: kudu
    home: /var/lib/kudu
    comment: Kudu
    key_acl: true
    key_password_acl: true

  - user: livy
    home: /var/lib/livy
    comment: Livy
    keystore_acl: true

  - user: mapred
    home: /var/lib/hadoop-mapreduce
    comment: Hadoop MapReduce
    extra_groups: [hadoop]

  - user: nifi
    home: /var/lib/nifi
    command: NiFi
    keystore_acl: true

  - user: nifiregistry
    home: /var/lib/nifiregistry
    command: NiFi Registry
    keystore_acl: true

  - user: nifi
    home: /var/lib/nifi
    command: NiFi

  - user: nifiregistry
    home: /var/lib/nifiregistry
    command: NiFi Registry

  - user: oozie
    home: /var/lib/oozie
    comment: Oozie User
    keystore_acl: true

  - user: phoenix
    home: /var/lib/phoenix
    comment: Phoenix User

  - user: ranger
    home: /var/lib/ranger
    comment: Ranger
    extra_groups: [hadoop]

  - user: rangerraz
    home: /var/lib/rangerraz
    comment: Ranger Raz User
    extra_groups: [ranger, hadoop]

  - user: rangertagsync
    home: /var/lib/rangertagsync
    comment: Ranger Tagsync User
    extra_groups: [ranger, hadoop]

  - user: schemaregistry
    home: /var/lib/schemaregistry
    comment: Schema Registry
    keystore_acl: true

  - user: sentry
    home: /var/lib/sentry
    comment: Sentry

  - user: solr
    home: /var/lib/solr
    comment: Solr
    keystore_acl: true

  - user: spark
    home: /var/lib/spark
    comment: Spark
    keystore_acl: true

  - user: spark2
    home: /var/lib/spark2
    comment: Spark2

  - user: sqoop
    home: /var/lib/sqoop
    comment: Sqoop

  - user: sqoop2
    home: /var/lib/sqoop2
    comment: Sqoop2
    extra_groups: [sqoop]

  - user: streamsmsgmgr
    home: /var/lib/streams_messaging_manager
    comment: Streams Messaging Manager
    keystore_acl: true
    key_acl: true

  - user: streamsrepmgr
    home: /var/lib/streams_replication_manager
    comment: Streams Replication Manager
    keystore_acl: true

  - user: superset
    home: /var/lib/superset
    comment: Superset

  - user: yarn
    home: /var/lib/hadoop-yarn
    comment: Hadoop Yarn
    extra_groups: [hadoop, spark]

  - user: zeppelin
    home: /var/lib/zeppelin
    comment: Zeppelin
    keystore_acl: true

  - user: zookeeper
    home: /var/lib/zookeeper
    comment: ZooKeeper
    keystore_acl: true

postgres_accounts:
  - user: postgres
    home: /var/lib/pgsql
    uid: 26
    comment: PostgreSQL Server
    mode: "770"
    shell: /bin/bash
    unencrypted_key_acl: "{{ database_tls }}"

mariadb_accounts:
  - user: mysql
    home: /var/lib/mysql
    uid: 27
    comment: MariaDB Server
    mode: "770"
    shell: /bin/bash
    unencrypted_key_acl: "{{ database_tls }}"

ecs_accounts:
  - user: cloudera-scm
    home: /var/lib/cloudera-scm-server
    comment: Cloudera Manager
    mode: "770"
    keystore_acl: true
    key_acl: true
    key_password_acl: true
